<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Big Data Workflows on AWS</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=12dfc556" />
    <script src="../../../_static/documentation_options.js?v=50bd6730"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/customization.js?v=b5d4a532"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Bash: How to determine the origin of the env variable" href="../../bash/bash-determine-the-origin-of-the-env-variable%3D.html" />
    <link rel="prev" title="ADB: Android Easy Backup From Recovery Mode" href="../../adb/adb%3D.html" />

   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

<!-- https://css-tricks.com/emoji-as-a-favicon/ -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✨</text></svg>">

  </head><body>


  <style>
    div.header {

      width: 940px;
      margin: 20px auto 30px auto;
      font-size: 14px;
      color: #888;
      text-align: left;
      vertical-align: bottom;
      display: flex;
      justify-content: space-between;
      align-items: baseline;
    }

    div.headerleft {
      display: flex;
      justify-content: flex-start;
      align-items: baseline;
    }

    div.homelink {
      float: left;
      margin-right: 5px;
    }

    div.header a { 
      text-decoration: none; 
    }
  </style>

  <div class="header">
    <div class="headerleft">
      <div class="homelink">
        <a href="../../../index.html">&#x00A7;</a>
      </div>
      <div id="searchbox" role="search">
        <div class="searchformwrapper">
          <form class="search" action="../../../search.html" method="get">
            <input type="text" name="q" placeholder="Search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
          </form>
        </div>
      </div>
    </div>
    <!--DISABLE LINKEDIN - REPLACE ICON div>
      <a href="https://www.linkedin.com/in/ilya-bystrov/">&#x00A9;</a>
    </div-->
  </div>
  <script>$('#searchbox').show(0);</script>

  <!-- created/modified -->
  <style>

    pre.createdmodified { 
      background: #fff;
      padding: 0;
      font-size: 12px;
      margin: 0 0 15px 0;
      font-style: italic;
    }

  </style>


  <!-- footnote -->
  <style>

    dl dd p {
      margin-top: 0;
      margin-bottom: 0;
    }

  </style>

  <!-- headings size -->
  <style>
    div.body h1 { font-size: 190%; }
    div.body h2 { font-size: 160%; }
    div.body h3 { font-size: 140%; }
    div.body h4 { font-size: 120%; }
    div.body h5 { font-size: 100%; }
    div.body h6 { font-size: 100%; }
  </style>

  <!-- lists -->
  <style>
    ul, ol {
        margin-top: 0;
        margin-bottom: 0;
    }
    ul p, 
    ol p,
    li p {
      margin-top: 0;
      margin-bottom: 0;
    }
  </style>

  <!-- basic.css:108 -->
  <style>
    .line-block {
      display: block;
      margin-top: 0;
      margin-bottom: 0;
    }
  </style>


  <!-- basic.css:604 -->
  <!--style>
    ol.simple ol p,
    ol.simple ul p,
    ul.simple ol p,
    ul.simple ul p {
    margin-top:  revert;
    } 

    ol.simple > li:not(:first-child) > p,
    ul.simple > li:not(:first-child) > p {
    margin-top: revert;
    }
    </style-->

    <!-- blockquoutes -->
    <style>
    blockquote div p:not(.attribution) {
      font-style: italic;
    }
    </style>

    <!-- font family -->
    <style>
body {
  font-family: Ubuntu, Georgia, serif;
}
    </style>


  

    <div class="document">
      <div class="documentwrapper">
          

          <div class="body" role="main">
            
  <pre class="createdmodified">
Created:        2020-05-25 Mon
Last modified:  2022-05-14 Sat
</pre><section id="big-data-workflows-on-aws">
<h1>Big Data Workflows on AWS<a class="headerlink" href="#big-data-workflows-on-aws" title="Link to this heading">¶</a></h1>
<p>This post is an overview of few articles from AWS blog regarding Big Data Workflows</p>
<ul class="simple">
<li><p><a class="reference internal" href="#orchestrate-big-data-workflows-with-apache-airflow-genie-and-amazon-emr-oct-2019"><span class="std std-ref">Orchestrate big data workflows with Apache Airflow, Genie, and Amazon EMR (Oct 2019)</span></a></p></li>
<li><p><a class="reference internal" href="#build-a-concurrent-data-orchestration-pipeline-using-amazon-emr-and-apache-livy-jul-2018"><span class="std std-ref">Build a Concurrent Data Orchestration Pipeline Using Amazon EMR and Apache Livy (Jul 2018)</span></a></p></li>
<li><p><a class="reference internal" href="#orchestrate-an-etl-process-using-aws-step-functions-for-amazon-redshift-jul-2019"><span class="std std-ref">Orchestrate an ETL process using AWS Step Functions for Amazon Redshift (Jul 2019)</span></a></p></li>
</ul>
<section id="orchestrate-big-data-workflows-with-apache-airflow-genie-and-amazon-emr-oct-2019">
<h2>Orchestrate big data workflows with Apache Airflow, Genie, and Amazon EMR (Oct 2019)<a class="headerlink" href="#orchestrate-big-data-workflows-with-apache-airflow-genie-and-amazon-emr-oct-2019" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/orchestrate-big-data-workflows-with-apache-airflow-genie-and-amazon-emr-part-1">AWS Blog (Part 1)</a></p></li>
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/orchestrate-big-data-workflows-with-apache-airflow-genie-and-amazon-emr-part-2">AWS Blog (Part 2)</a></p></li>
</ul>
<a class="reference external image-reference" href="https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/new?stackName=stack_name&amp;templateURL=https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/1-MasterStack.yaml"><img alt="../../../_images/LaunchStack.png" src="../../../_images/LaunchStack.png" /></a>
<p>CloudFormation Stack files:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/1-MasterStack.yaml">1-MasterStack.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/2-SetupIAMRolesForAirflowGenieZookeeperAmazonEMRStack.yaml">2-SetupIAMRolesForAirflowGenieZookeeperAmazonEMRStack.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/2-SetupVPC.yaml">2-SetupVPC.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/3-SetupSecurityGroupsForAirlfowGenieZookeeperRDS.yaml">3-SetupSecurityGroupsForAirlfowGenieZookeeperRDS.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/4-SetupBastion.yaml">4-SetupBastion.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/4-SetupEFSRDSRedis.yaml">4-SetupEFSRDSRedis.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/5-SetupAirflowZKGenie.yaml">5-SetupAirflowZKGenie.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/6-SetupAirflowInstanceRole.yaml">6-SetupAirflowInstanceRole.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/6-SetupAmazonEMRIAMRoles.yaml">6-SetupAmazonEMRIAMRoles.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/6-SetupBastionInstanceRole.yaml">6-SetupBastionInstanceRole.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/6-SetupGenieRoles.yaml">6-SetupGenieRoles.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/6-SetupZookeeperRoles.yaml">6-SetupZookeeperRoles.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/8-SetupEFS.yaml">8-SetupEFS.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/8-SetupRDS.yaml">8-SetupRDS.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/8-SetupREDIS.yaml">8-SetupREDIS.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/9-SetupAmazonEMRCluster.yaml">9-SetupAmazonEMRCluster.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/9-SetupApacheAirflow.yaml">9-SetupApacheAirflow.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/9-SetupGenie.yaml">9-SetupGenie.yaml</a></p></li>
<li><p><a class="reference external" href="https://aws-bigdata-blog.s3.amazonaws.com/artifacts/aws-blog-airflow-genie-emr/9-SetupZookeeperInstance.yaml">9-SetupZookeeperInstance.yaml</a></p></li>
</ul>
<section id="option-1">
<h3>Option 1<a class="headerlink" href="#option-1" title="Link to this heading">¶</a></h3>
<p><strong>Apache Airflow + Genie + Amazon EMR and Amazon S3</strong></p>
<img alt="../../../_images/AirflowGenieEMRPart2_1.png" src="../../../_images/AirflowGenieEMRPart2_1.png" />
<p>Cluster</p>
<ul class="simple">
<li><p>always-on clusters</p></li>
<li><p>transient clusters</p></li>
</ul>
<p>Custom Airflow Operators:</p>
<ul class="simple">
<li><p><em>GenieOperator</em></p></li>
<li><p><em>EMR Airflow Operator</em> can be used to spin up Amazon EMR clusters that register with
Genie, run a job, and tear them down</p></li>
</ul>
</section>
<section id="option-2">
<h3>Option 2<a class="headerlink" href="#option-2" title="Link to this heading">¶</a></h3>
<p>Apache Airflow + Apache Livy + Amazon EMR</p>
</section>
</section>
<section id="build-a-concurrent-data-orchestration-pipeline-using-amazon-emr-and-apache-livy-jul-2018">
<h2>Build a Concurrent Data Orchestration Pipeline Using Amazon EMR and Apache Livy (Jul 2018)<a class="headerlink" href="#build-a-concurrent-data-orchestration-pipeline-using-amazon-emr-and-apache-livy-jul-2018" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/build-a-concurrent-data-orchestration-pipeline-using-amazon-emr-and-apache-livy">AWS Blog</a></p></li>
<li><p><a class="reference external" href="https://github.com/aws-samples/aws-concurrent-data-orchestration-pipeline-emr-livy">AWS Sample</a></p></li>
</ul>
<a class="reference external image-reference" href="https://console.aws.amazon.com/cloudformation/home?region=us-west-2#/stacks/new?stackName=Airflow-Blog&amp;templateURL=https://s3.amazonaws.com/aws-bigdata-blog/artifacts/airflow.livy.emr/airflow.yaml"><img alt="../../../_images/LaunchStack.png" src="../../../_images/LaunchStack.png" /></a>
<ul class="simple">
<li><p><a class="reference external" href="https://s3.amazonaws.com/aws-bigdata-blog/artifacts/airflow.livy.emr/airflow.yaml">CloudFormation Stack file</a></p></li>
</ul>
<p><strong>Apache Airflow + Apache Livy + Amazon EMR</strong></p>
<img alt="../../../_images/Livy1.png" src="../../../_images/Livy1.png" />
<ul class="simple">
<li><p>Apache Livy allow sending code (Scala or Python) over REST API calls</p></li>
<li><p>Spark allows parralel execution, EMR Step API runs jobs serially</p></li>
<li><p>Sample code uses non-reliable cluster termination, probably better to try <a class="reference external" href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-plan-longrunning-transient.html">EMR auto-termination</a></p>
<ul>
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/etl-processing-using-aws-data-pipeline-and-amazon-elastic-mapreduce/">Auto-termination example</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="orchestrate-an-etl-process-using-aws-step-functions-for-amazon-redshift-jul-2019">
<h2>Orchestrate an ETL process using AWS Step Functions for Amazon Redshift (Jul 2019)<a class="headerlink" href="#orchestrate-an-etl-process-using-aws-step-functions-for-amazon-redshift-jul-2019" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/orchestrating-an-etl-process-using-aws-step-functions-for-amazon-redshift">AWS Blog</a></p></li>
</ul>
<a class="reference external image-reference" href="https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/new?stackName=RedshiftETL&amp;templateURL=https://s3.amazonaws.com/salamander-us-east-1/reinvent2018/ant353/cf_template_ant353.yaml"><img alt="../../../_images/LaunchStack.png" src="../../../_images/LaunchStack.png" /></a>
<ul class="simple">
<li><p><a class="reference external" href="https://s3.amazonaws.com/salamander-us-east-1/reinvent2018/ant353/cf_template_ant353.yaml">CloudFormation Stack file</a></p></li>
</ul>
<p><strong>AWS Step Functions + AWS Lambda + AWS Batch</strong></p>
<img alt="../../../_images/D.png" src="../../../_images/D.png" />
<section id="my-notes">
<h3>My notes<a class="headerlink" href="#my-notes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Complicated workflow management</p></li>
</ul>
</section>
</section>
<section id="other-useful-useless-stuff">
<h2>Other Useful/Useless Stuff<a class="headerlink" href="#other-useful-useless-stuff" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/best-practices-for-successfully-managing-memory-for-apache-spark-applications-on-amazon-emr/">Memory Management Spark on EMR</a></p></li>
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/how-verizon-media-group-migrated-from-on-premises-apache-hadoop-and-spark-to-amazon-emr">How Verizon Media Group migrated from on-premises Apache Hadoop and Spark to Amazon EMR (Jan 2020)</a></p></li>
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/startups/from-zero-to-eks-with-terraform-and-helm">From Zero to EKS with Terraform and Helm</a></p></li>
</ul>
<section id="aws-data-pipeline">
<h3>AWS Data Pipeline<a class="headerlink" href="#aws-data-pipeline" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/etl-processing-using-aws-data-pipeline-and-amazon-elastic-mapreduce">ETL Processing Using AWS Data Pipeline and Amazon Elastic MapReduce (Nov 2014)</a></p></li>
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/how-coursera-manages-large-scale-etl-using-aws-data-pipeline-and-dataduct">How Coursera Manages Large-Scale ETL using AWS Data Pipeline and Dataduct (Sep 2015)</a></p></li>
</ul>
</section>
<section id="aws-glue">
<h3>AWS Glue<a class="headerlink" href="#aws-glue" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://aws.amazon.com/blogs/big-data/simplify-data-pipelines-with-aws-glue-automatic-code-generation-and-workflows">Simplify data pipelines with AWS Glue automatic code generation and Workflows (Apr 2020)</a></p></li>
<li><p><a class="reference external" href="https://docs.aws.amazon.com/glue/latest/dg/orchestrate-using-workflows.html">AWS Glue Workflows</a></p></li>
</ul>
</section>
<section id="well-known-workflow-schedule-tools">
<h3>Well-known workflow schedule tools<a class="headerlink" href="#well-known-workflow-schedule-tools" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Apache Oozie</p></li>
<li><p>Apache Airflow</p></li>
<li><p>Azkaban</p></li>
<li><p>Cron</p></li>
</ul>
</section>
<section id="other">
<h3>Other<a class="headerlink" href="#other" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://nifi.apache.org/docs.html">Apache Ni-Fi</a></p></li>
</ul>
</section>
</section>
</section>


          </div>
          
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
    </div>

    

    
  </body>
</html>